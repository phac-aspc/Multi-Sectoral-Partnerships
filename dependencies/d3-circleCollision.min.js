!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){let e=t.substring(10,t.length-1).split(",");return[+e[0],+e[1]]}function n(t){let n=[];return t.each(function(o){let r=d3.select(this),a=e(r.attr("transform"));t.each(function(t){let o=d3.select(this),i=e(o.attr("transform"));if(+r.attr("r")+ +o.attr("r")>=function(t,e){let[n,o]=t,[r,a]=e,i=n-r,c=o-a;return Math.sqrt(Math.pow(i,2)+Math.pow(c,2))}(a,i)){let t=!1,e=0;n.forEach(function(n,o){n.includes(r.node())&&(t=!0,e=o)}),t?n[e].includes(o.node())||n[e].push(o.node()):r.node()!=o.node()&&n.push([r.node(),o.node()])}})}),n}t.circleCollision=function(t,o=!1){let r=function(t,n){let o=[];return t.forEach(function(t){let r=0,a=0,i={data:[],coordinates:{x:0,y:0}};t.forEach(function(t){let o=d3.select(t);i.data.push(o.datum());let[c,d]=e(o.attr("transform"));r+=c,a+=d,n&&o.style("display","none")});let c=Math.floor(r/t.length),d=Math.floor(a/t.length);i.coordinates.x=c,i.coordinates.y=d,o.push(i)}),o}(n(t),o);return function(e){return d3.select(t.node().parentNode).selectAll(e).data(r).enter().append(e).attr("transform",function(t){return`translate(${t.coordinates.x},${t.coordinates.y})`})}},Object.defineProperty(t,"__esModule",{value:!0})});